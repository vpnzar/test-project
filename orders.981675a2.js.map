{"version":3,"sources":["js/orders.js"],"names":["inputContact","document","querySelector","inputResult","inputForm","inputTel","inputAddress","inputAddressPost","submitBtn","dataListConfirm","inputData","inputOrderNumber","inputPayForm","inputPayControl","inputDelivery","additionText","console","log","addEventListener","bodyMarkup","showNameInput","confirmInfo","contactProps","e","preventDefault","resultFromAPI","target","value","innerHTML","wordsJsonData","fetch","key","json","then","text","renderCollection","contacts","showNameList","countryNameArray","arr","forEach","el","push","properties","insertAdjacentHTML","firstname","textContent","prop","hs_calculated_mobile_number","company","address","country"],"mappings":";AAAA,MAAMA,EAAeC,SAASC,cAAc,WACtCC,EAAcF,SAASC,cAAc,kBACrCE,EAAYH,SAASC,cAAc,gBACnCG,EAAWJ,SAASC,cAAc,QAClCI,EAAeL,SAASC,cAAc,mBACtCK,EAAmBN,SAASC,cAAc,iBAC1CM,EAAYP,SAASC,cAAc,WACnCO,EAAkBR,SAASC,cAAc,cACzCQ,EAAYT,SAASC,cAAc,SACnCS,EAAmBV,SAASC,cAAc,iBAC1CU,EAAeX,SAASC,cAAc,aACtCW,EAAkBZ,SAASC,cAAc,gBACzCY,EAAgBb,SAASC,cAAc,aACvCa,EAAed,SAASC,cAAc,aAC5Cc,QAAQC,IAAIb,GAEZJ,EAAakB,iBAAiB,QAASC,GACvChB,EAAYe,iBAAiB,QAASE,GACtCZ,EAAUU,iBAAiB,QAASG,GAEpC,IAAIC,EAAe,GAEnB,SAASH,EAAWI,GAClBA,EAAEC,iBACFC,EAAcF,EAAEG,OAAOC,OACvBxB,EAAYyB,UAAY,GAG1B,MAAMH,EAAgB,MAAA,IAQbI,aAPgBC,2DACgCC,mDAE5BC,OACKC,KAAKC,IACnCC,EAAiBD,EAAKE,aAK1B,SAASC,EAAaC,GACZ,2DAEgBA,kBAK1B,SAASH,EAAiBI,GACxBA,EAAIC,QAAQC,IACVnB,EAAaoB,KAAKD,EAAGE,YACrBxC,EAAYyC,mBAAmB,aAAcP,EAAaI,EAAGE,WAAWE,UAAUlB,UAItF,SAASP,EAAcG,GACrBP,QAAQC,IAAIjB,EAAa2B,OACzBxB,EAAYyB,UAAY,GACxB5B,EAAa2B,MAAQJ,EAAEG,OAAOoB,YAC9BxB,EAAakB,QAAQO,IACfA,EAAKF,UAAUlB,QAAUJ,EAAEG,OAAOoB,cACpCzC,EAASsB,MAAQoB,EAAKC,4BAA4BrB,MAClD3B,EAAa2B,MAAQoB,EAAKE,QAAQtB,MAClCrB,EAAaqB,MAAQoB,EAAKG,QAAQvB,MAClCpB,EAAiBoB,MAAQoB,EAAKI,QAAQxB,SAK5C,SAASN,EAAYE,GAKXd,OAAAA,EAAgBmB,kEACI,oBAAsBlB,EAAUiB,2CAChC,eAAiBhB,EAAiBgB,2CAClC,mBAAqBf,EAAae,2CAClC,aAAed,EAAgBc,2CAC/B,eAAiBb,EAAca,2CAC/B,UAAY3B,EAAa2B,4CACzB,UAAYtB,EAASsB,2CACrB,eAAiBrB,EAAaqB,2CAC9B,eAAiBpB,EAAiBoB,2CAClC,eAAiBZ,EAAaY","file":"orders.981675a2.js","sourceRoot":"..\\src","sourcesContent":["const inputContact = document.querySelector('.search');\r\nconst inputResult = document.querySelector('.search_result');\r\nconst inputForm = document.querySelector('.search-form');\r\nconst inputTel = document.querySelector('.tel');\r\nconst inputAddress = document.querySelector('.address-office');\r\nconst inputAddressPost = document.querySelector('.address-post');\r\nconst submitBtn = document.querySelector('#submit');\r\nconst dataListConfirm = document.querySelector('.data-list');\r\nconst inputData = document.querySelector('.data');\r\nconst inputOrderNumber = document.querySelector('.number-order');\r\nconst inputPayForm = document.querySelector('.pay-form');\r\nconst inputPayControl = document.querySelector('.pay-control');\r\nconst inputDelivery = document.querySelector('.delivery');\r\nconst additionText = document.querySelector('.add-text');\r\nconsole.log(inputForm);\r\n\r\ninputContact.addEventListener('input', bodyMarkup);\r\ninputResult.addEventListener('click', showNameInput);\r\nsubmitBtn.addEventListener('click', confirmInfo);\r\n\r\nlet contactProps = [];\r\n\r\nfunction bodyMarkup(e) {\r\n  e.preventDefault();\r\n  resultFromAPI(e.target.value);\r\n  inputResult.innerHTML = '';\r\n}\r\n\r\nconst resultFromAPI = async key => {\r\n  const response = await fetch(\r\n    `https://api.hubapi.com/contacts/v1/search/query?q=${key}&hapikey=2527e68b-a1f0-4ae5-868a-c0b95b69e8e3`,\r\n  );\r\n  const wordsJson = response.json();\r\n  const wordsJsonData = wordsJson.then(text => {\r\n    renderCollection(text.contacts);\r\n  });\r\n  return wordsJsonData;\r\n};\r\n\r\nfunction showNameList(countryNameArray) {\r\n  return `\r\n<ul class='name-list'>\r\n  <li class='name-item'>${countryNameArray}</li>\r\n</ul>\r\n`;\r\n}\r\n\r\nfunction renderCollection(arr) {\r\n  arr.forEach(el => {\r\n    contactProps.push(el.properties);\r\n    inputResult.insertAdjacentHTML('afterbegin', showNameList(el.properties.firstname.value));\r\n  });\r\n}\r\n\r\nfunction showNameInput(e) {\r\n  console.log(inputContact.value);\r\n  inputResult.innerHTML = '';\r\n  inputContact.value = e.target.textContent;\r\n  contactProps.forEach(prop => {\r\n    if (prop.firstname.value === e.target.textContent) {\r\n      inputTel.value = prop.hs_calculated_mobile_number.value;\r\n      inputContact.value = prop.company.value;\r\n      inputAddress.value = prop.address.value;\r\n      inputAddressPost.value = prop.country.value;\r\n    }\r\n  });\r\n}\r\n\r\nfunction confirmInfo(e) {\r\n  // if (contactProps.company.value !== inputContact.value) {\r\n  //   updateAPI(`property: 'firstname', value: ${inputContact.value}`);\r\n  // }\r\n\r\n  return (dataListConfirm.innerHTML = ` <ul class=\"name-list\">\r\n      <li class=\"name-item\">${'дата отгрузки -- ' + inputData.value}</li>\r\n      <li class=\"name-item\">${'№ заказа -- ' + inputOrderNumber.value}</li>\r\n      <li class=\"name-item\">${'форма оплаты -- ' + inputPayForm.value}</li>\r\n      <li class=\"name-item\">${'оплата -- ' + inputPayControl.value}</li>\r\n      <li class=\"name-item\">${'отгрузка -- ' + inputDelivery.value}</li>\r\n      <li class=\"name-item\">${'фио -- ' + inputContact.value}</li> \r\n      <li class=\"name-item\">${'тел -- ' + inputTel.value}</li>\r\n      <li class=\"name-item\">${'доставка -- ' + inputAddress.value}</li>\r\n      <li class=\"name-item\">${'отправка -- ' + inputAddressPost.value}</li>\r\n      <li class=\"name-item\">${'доп.инфо -- ' + additionText.value}</li>\r\n    </ul>`);\r\n}\r\n\r\n// const updateAPI = async () => {\r\n//   const response = await POST(\r\n//     `https://api.hubapi.com/contacts/v1/contact/createOrUpdate/hapikey=2527e68b-a1f0-4ae5-868a-c0b95b69e8e3`,\r\n//   );\r\n//   const wordsJson = response.json();\r\n//   const wordsJsonData = wordsJson.then(property => {\r\n//     [{ prop }];\r\n//   });\r\n//   return wordsJsonData;\r\n// };\r\n"]}